<!DOCTYPE html>
{% load static %}
{% load humanize %}
<html lang="ko">
<head>
  <title>LegoMall - ì¥ë°”êµ¬ë‹ˆ</title>
  <link href="{% static 'bootstrap/bootstrap.min.css' %}" rel="stylesheet" type="text/css" media="screen">
  <link href="{% static 'css/base.css' %}" rel="stylesheet" type="text/css" media="screen">
  <link href="{% static 'css/cart.css' %}" rel="stylesheet" type="text/css" media="screen">
  <script src="https://kit.fontawesome.com/cd5dfd4385.js" crossorigin="anonymous"></script>
</head>
<body>
  {% include 'shopping/navbar.html' %}
  <div class="container my-5">
    <img class="legoicon" src="{% static 'image/lego_icon.png' %}">
    <h2 style="display: inline-block; font-family: 'Cafe24SsurroundAir';">ì¥ë°”êµ¬ë‹ˆ</h2>
    {% if not cart_items %}
    <h4 style="font-family: 'Cafe24SsurroundAir'; margin: 10px 0 20px 0;">ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì—ˆìŠµë‹ˆë‹¤.</h4>
    <a href="/shopping" class="keeptext">ğŸ‘‰ì‡¼í•‘ ê³„ì†í•˜ê¸°</a>
    {% else %}
    <h4 style="font-family: 'Cafe24SsurroundAir'; margin: 10px 0 15px 0; font-weight: 550;">ì¥ë°”êµ¬ë‹ˆ ìƒí’ˆ ({{ counter }})</h4>
    <div class="row">
      <div class="col-9">
        <table>
          <th>ìƒí’ˆì •ë³´</th>
          <th>ìˆ˜ëŸ‰</th>
          <th>ê°€ê²©</th>
          <th>ìƒí’ˆê¸ˆì•¡</th>
          <th style="padding-right: 20px;">ì‚­ì œ</th>
          {% for cart_item in cart_items %}
          <tr>
            <td>
              <a href="{{cart_item.post.get_absolute_url}}">
                <img src="{{ cart_item.post.head_image.url }}" style="width: 15rem; height: 12rem;">
                {{ cart_item.post.product_name }}
              </a>
            </td>
            <td style="text-align: center;">
              <a href="{% url 'cart:cart_remove' cart_item.post.pk %}">
                <i class="fas fa-minus-circle"></i>
              </a>
              {{ cart_item.quantity }}
              <a href="{% url 'cart:add_cart' cart_item.post.pk %}">
                <i class="fas fa-plus-circle"></i>
              </a>
            </td>
            <td style="text-align: center;">
              {{ cart_item.post.price | intcomma }}
            </td>
            <td style="text-align: center;">
              {{ cart_item.sub_total | intcomma }}ì›
            </td>
            <td style="text-align: center;">
              <a href="{% url 'cart:full_remove' cart_item.post.pk %}">
                <i class="far fa-trash-alt"></i>
              </a>      
            </td>
          </tr>
          {% endfor %}
        </table>
      </div>
      <div class="col-3">
        <div class="totalcart">
          <p class="total">ì£¼ë¬¸ê¸ˆì•¡</p>
          <hr>
          ì´ ê²°ì œê¸ˆì•¡: <span style="float: right;"><span style="color: red; font-weight: bold;">{{ total | intcomma }}</span> ì›</span>
          <a href="/shopping" style="text-decoration: none; color: black;"><div class="shoppingbox">ì‡¼í•‘ ê³„ì†í•˜ê¸°</div></a>
          <a href="#" style="text-decoration: none; color: black;"><div class="orderbox">ì£¼ë¬¸í•˜ê¸°</div></a>
        </div>
      </div>
    </div>
    {% endif %}
  </div>
  {% include 'shopping/footer.html' %}

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</body>
</html>